-- Create analytics table
CREATE TABLE analytics (
    id INT AUTO_INCREMENT PRIMARY KEY,
    visitor_id VARCHAR(32) NOT NULL,
    session_id VARCHAR(32) NOT NULL,
    page_url VARCHAR(500) NOT NULL,
    page_title VARCHAR(200),
    referrer VARCHAR(500),
    country VARCHAR(2) DEFAULT 'US',
    device VARCHAR(50),
    os VARCHAR(50),
    browser VARCHAR(50),
    ip_address VARCHAR(45),
    user_agent TEXT,
    visit_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_visitor (visitor_id),
    INDEX idx_session (session_id),
    INDEX idx_time (visit_time),
    INDEX idx_country (country)
);